<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Web AR Viewer</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script
      type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js"
    ></script>

    <script
      nomodule
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"
    ></script>

    <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js"></script>

    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>

    <script src="https://unpkg.com/resize-observer-polyfill@1.5.1/dist/ResizeObserver.js"></script>

    <link rel="stylesheet" href="ContainerStyle.css" />
  </head>
  <body>
    <model-viewer
      src="https://devdensolutions.github.io/TableViz/Table.glb"
      ios-src="https://devdensolutions.github.io/TableViz/Table.usdz"
	  id= "animatedTable"
      ar
      auto-rotate
	  environment-image="neutral"
	  shadow-intensity="0.8"
	  camera-controls
	  quick-look-browsers="safari chrome"
    >
	
	<div id="dropdwn">
    <label for="drpdwnsrc">Product:</label>
    <select id="drpdwnsrc">
      <option value="Table">Table</option>
	  <option value="Sofa">Sofa</option>
      <option value="Table&Chair">Table&amp;Chair</option>  
      
      
    </select><br>
  </div>
	
    </model-viewer>
	
	<script type="module">
    const modelViewer = document.querySelector("model-viewer");
	
  
    modelViewer.querySelector('#drpdwnsrc').addEventListener('input', (event) => {
    var drpDwnVal= event.target.value;
	const base = "./" + drpDwnVal;
	
    modelViewer.src = base+'.glb';
    modelViewer.iosSrc = base+ '.usdz';
    
    });

	
	const checkbox = modelViewer.querySelector('#show-text');
    checkbox.addEventListener('change', () => {
    
      if (checkbox.checked) {
         document.getElementById("anectode").classList.remove('hide');
		console.log(checkbox.checked);
		
      } else {
         document.getElementById("anectode").classList.add('hide');
		console.log(checkbox.checked);
      }
    
  });
  

  document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
    // Keep slider interactions from affecting the XR scene.
    ev.preventDefault();
  });

  /*window.switchSrc = (element, name, sofaName) => {
    const base = "./" + name;	

	const div = document.getElementById('annotation');  
	div.innerHTML = sofaName; 
	
	modelViewer.src = base + '.glb';
	modelViewer.iosSrc = base + '.usdz';
    const slides = document.querySelectorAll(".slide");
    slides.forEach((element) => {element.classList.remove("selected");});
    element.classList.add("selected");
  };

  document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
    // Keep slider interactions from affecting the XR scene.
    ev.preventDefault();
  });*/
</script>
	
	
	
  </body>
</html>
